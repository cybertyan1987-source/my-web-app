<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>English Materials ‚Äî Telegram WebApp</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
  :root {
    --bg-color: #ffffff;
    --bg-block: #f2f2f2;
    --text-color: #222;
    --button-bg: #2563eb;
    --button-text: #fff;
  }

  body {
    font-family: system-ui;
    margin: 0;
    padding: 16px;
    background: var(--bg-color);
    color: var(--text-color);
  }

  h1 { font-size: 1.3rem; margin-bottom: 20px; }
  h2 { margin-top: 25px; font-size:1.1rem; }

  .block { margin-bottom: 25px; background: var(--bg-block); padding: 15px; border-radius: 10px; }

  select {
    width: 100%;
    padding: 10px;
    font-size: 1rem;
    border-radius: 6px;
    border: 1px solid #ccc;
  }

  .card {
    margin-top: 15px;
    padding: 12px;
    border-radius: 10px;
    background: var(--bg-color);
    border: 1px solid rgba(0,0,0,0.1);
    display: flex;
    gap: 12px;
  }

  .card img { width: 90px; height: 130px; object-fit: cover; border-radius: 6px; }
  .card h3 { margin: 0 0 8px; font-size: 1.05rem; }
  .card p { margin: 6px 0; font-size: 0.95rem; }

  .hint { font-size:0.9rem; color:#666; margin-top:10px; }
</style>
</head>

<body>
<h1>üìö English Study Materials</h1>
<div class="hint">–í—ã–±–µ—Ä–∏—Ç–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –∏–∑ –∫–∞–∂–¥–æ–≥–æ —Å–ø–∏—Å–∫–∞ –∏ –Ω–∞–∂–º–∏—Ç–µ "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å" –≤–Ω–∏–∑—É.</div>

<!-- ===== 1. –£—á–µ–±–Ω–∏–∫–∏ ===== -->
<div class="block">
  <h2>–£—á–µ–±–Ω–∏–∫–∏</h2>
  <select id="books"><option value="">‚Äî –≤—ã–±—Ä–∞—Ç—å ‚Äî</option><option value="englishFile">English File</option><option value="solutions">Solutions</option><option value="headway">New Headway</option></select>
  <div id="booksDetails"></div>
</div>

<!-- ===== 2. –ñ—É—Ä–Ω–∞–ª—ã ===== -->
<div class="block">
  <h2>–ñ—É—Ä–Ω–∞–ª—ã</h2>
  <select id="mag"><option value="">‚Äî –≤—ã–±—Ä–∞—Ç—å ‚Äî</option><option value="lhe">Learn Hot English</option><option value="speakOut">Speak Out</option></select>
  <div id="magDetails"></div>
</div>

<!-- ===== 3. –°–ª–æ–≤–∞—Ä–∏ ===== -->
<div class="block">
  <h2>–°–ª–æ–≤–∞—Ä–∏</h2>
  <select id="dict"><option value="">‚Äî –≤—ã–±—Ä–∞—Ç—å ‚Äî</option><option value="oxfordDict">Oxford Dictionary</option><option value="cambridgeDict">Cambridge Dictionary</option><option value="longmanDict">Longman Dictionary</option></select>
  <div id="dictDetails"></div>
</div>

<!-- ===== 4. –ì—Ä–∞–º–º–∞—Ç–∏–∫–∞ ===== -->
<div class="block">
  <h2>–ì—Ä–∞–º–º–∞—Ç–∏–∫–∞</h2>
  <select id="gram"><option value="">‚Äî –≤—ã–±—Ä–∞—Ç—å ‚Äî</option><option value="murphy">Murphy Grammar</option><option value="peu">Practical English Usage</option><option value="oxfordGrammar">Oxford Grammar Course</option></select>
  <div id="gramDetails"></div>
</div>

<script src="https://telegram.org/js/telegram-web-app.js"></script>

<script>
// –î–∞–Ω–Ω—ã–µ –∫–∞—Ç–∞–ª–æ–≥–∞
const DATA = {
  englishFile:{title:"English File", desc:"–£—á–µ–±–Ω–∏–∫ Oxford.", img:"https://via.placeholder.com/300x450?text=English+File"},
  solutions:{title:"Solutions", desc:"–ü–æ–ø—É–ª—è—Ä–Ω–∞—è Oxford —Å–µ—Ä–∏—è.", img:"https://via.placeholder.com/300x450?text=Solutions"},
  headway:{title:"Headway", desc:"–ö–ª–∞—Å—Å–∏–∫–∞ –æ–±—É—á–µ–Ω–∏—è.", img:"https://via.placeholder.com/300x450?text=Headway"},

  lhe:{title:"Learn Hot English", desc:"–ñ—É—Ä–Ω–∞–ª —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω–æ–≥–æ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ.", img:"https://via.placeholder.com/300x450?text=LHE"},
  speakOut:{title:"Speak Out", desc:"–ñ—É—Ä–Ω–∞–ª –¥–ª—è –ø—Ä–∞–∫—Ç–∏–∫–∏.", img:"https://via.placeholder.com/300x450?text=Speak+Out"},

  oxfordDict:{title:"Oxford Dictionary", desc:"–õ—É—á—à–∏–π —Å–ª–æ–≤–∞—Ä—å –¥–ª—è —É—á–∞—â–∏—Ö—Å—è.", img:"https://via.placeholder.com/300x450?text=Oxford"},
  cambridgeDict:{title:"Cambridge Dictionary", desc:"–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å.", img:"https://via.placeholder.com/300x450?text=Cambridge"},
  longmanDict:{title:"Longman Dictionary", desc:"–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å.", img:"https://via.placeholder.com/300x450?text=Longman"},

  murphy:{title:"Murphy Grammar", desc:"–ü–æ–ø—É–ª—è—Ä–Ω—ã–π —É—á–µ–±–Ω–∏–∫ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏.", img:"https://via.placeholder.com/300x450?text=Murphy"},
  peu:{title:"Practical English Usage", desc:"–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ —É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—é.", img:"https://via.placeholder.com/300x450?text=PEU"},
  oxfordGrammar:{title:"Oxford Grammar", desc:"–ì—Ä–∞–º–º–∞—Ç–∏–∫–∞ –æ—Ç Oxford.", img:"https://via.placeholder.com/300x450?text=Oxford+Grammar"}
};

// –î–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
const selections = {books:"", mag:"", dict:"", gram:""};

// –§—É–Ω–∫—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä–∞ –∫–∞—Ä—Ç–æ—á–∫–∏
function showCard(selectId, blockId){
  const sel = document.getElementById(selectId);
  const block = document.getElementById(blockId);
  const val = sel.value;
  selections[selectId] = val;
  if(!val){ block.innerHTML=""; return; }
  const it = DATA[val];
  block.innerHTML = `<div class="card"><img src="${it.img}"><div class="meta"><h3>${it.title}</h3><p>${it.desc}</p></div></div>`;
}

// –ü—Ä–∏–≤—è–∑—ã–≤–∞–µ–º —Å–ø–∏—Å–∫–∏
["books","mag","dict","gram"].forEach(id=>{
  const blockId = id+"Details";
  document.getElementById(id).onchange = ()=>showCard(id, blockId);
});

// --- Telegram WebApp ---
const tg = Telegram.WebApp;
tg.expand();

// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ü–≤–µ—Ç–∞ —Ç–µ–º—ã
const theme = tg.colorScheme; // "light" –∏–ª–∏ "dark"
if(theme==="dark"){
  document.documentElement.style.setProperty("--bg-color","#1e1e1e");
  document.documentElement.style.setProperty("--bg-block","#2a2a2a");
  document.documentElement.style.setProperty("--text-color","#fff");
  document.documentElement.style.setProperty("--button-bg","#0a84ff");
  document.documentElement.style.setProperty("--button-text","#fff");
}

// –ì–ª–∞–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ Telegram
tg.MainButton.text = "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å";
tg.MainButton.color = getComputedStyle(document.documentElement).getPropertyValue("--button-bg");
tg.MainButton.textColor = getComputedStyle(document.documentElement).getPropertyValue("--button-text");
tg.MainButton.show();

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –ø–æ MainButton
tg.MainButton.onClick(()=>{
  tg.sendData(JSON.stringify(selections));
  tg.MainButton.hide();
  alert("–î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –±–æ—Ç—É:\n"+JSON.stringify(selections,null,2));
});
</script>

</body>
</html>
